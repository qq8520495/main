(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{676:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.remove=t.update=t.add=t.allList=t.list=void 0;var n,l=a(104),u=(n=l)&&n.__esModule?n:{default:n};t.list=function(e){return u.default.get("/admin/log/list",{params:e})},t.allList=function(e){return u.default.get("/admin/log/all-list",{params:e})},t.add=function(e){return u.default.post("/admin/log/save",e)},t.update=function(e){return u.default.post("/admin/log/update",e)},t.remove=function(e){return u.default.post("/admin/log/delete/"+e.id)}},694:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(88)),l=s(a(32)),u=s(a(73)),i=s(a(60)),d=s(a(55)),r=s(a(51));a(89),a(46),a(72),a(59);var o=a(0),c=s(o),f=a(676);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=(0,o.useState)([]),t=(0,r.default)(e,2),a=t[0],s=t[1],m=(0,o.useState)({pageNum:1,pageSize:10,total:0,fetch:!1,ip:""}),p=(0,r.default)(m,2),g=p[0],y=p[1],k=(0,o.useState)(!1),h=(0,r.default)(k,2),v=h[0],E=h[1];(0,o.useEffect)((function(){_()}),[]),(0,o.useEffect)((function(){g.fetch&&_()}),[g]);var _=function(){E(!0),(0,f.list)(g).then((function(e){E(!1),s(e.data),y((0,d.default)({},g,{total:e.data.total}))})).catch((function(e){console.error(e),E(!1)}))};return c.default.createElement("div",{className:"sysLog-contain",key:"5+6n11"},c.default.createElement("div",{className:"sysLog-contain-search",style:{marginBottom:10},key:"5+6n12"},c.default.createElement(u.default,{name:"horizontal_login",layout:"inline",key:"5+6n21"},c.default.createElement(u.default.Item,{key:"5+6n31"},c.default.createElement(i.default,{value:g.ip,onChange:function(e){y((0,d.default)({},g,{ip:e.target.value,fetch:!1}))},placeholder:"ip地址",onPressEnter:function(){return y((0,d.default)({},g,{pageNum:1,fetch:!0}))},key:"5+6n41"})),c.default.createElement(u.default.Item,{key:"5+6n32"},c.default.createElement(l.default,{type:"primary",onClick:function(){y((0,d.default)({},g,{pageNum:1,fetch:!0}))},key:"5+6n51"},"查询")))),c.default.createElement("div",{className:"sysLog-contain-content",key:"5+6n13"},c.default.createElement(n.default,{rowKey:"id",loading:v,dataSource:a,columns:[{title:"主键",align:"center",dataIndex:"id",key:"id"},{title:"IP地址",align:"center",dataIndex:"ip",key:"ip"},{title:"描述",align:"center",dataIndex:"requestUrl",key:"requestUrl"},{title:"登录用户",align:"center",dataIndex:"createUser",key:"createUser"},{title:"登陆时间",align:"center",dataIndex:"createTime",key:"createTime"}],pagination:{current:g.pageNum,pageSize:g.pageSize,total:g.total,showSizeChanger:!1,onChange:function(e){y((0,d.default)({},g,{pageNum:e,fetch:!0}))}},key:"5+6n61"})))}}}]);